import{_ as q,X as B,r as n,d as V,aJ as L,l as y,m as g,x as t,f as a,y as N,t as b,v as j,b0 as h,Q as r,u,R as p,a5 as z,A as m,a6 as w,a7 as x,al as E,Z as Q,z as S,a8 as T,$ as U,a0 as D}from"./index.737d3221.js";import{a as M,Q as Y,e as $}from"./QBanner.6a1b92b4.js";import{Q as F}from"./QPage.7f3ad2a1.js";import{u as J}from"./account-store.93e228d8.js";import{u as X}from"./auth-store.79001c12.js";import"./axios.37d53be1.js";const Z=s=>(U("data-v-4113e8cd"),s=s(),D(),s),G=Z(()=>m("h5",{style:{margin:"0"}},"Social Circle",-1)),H=["src"],K={class:"q-ml-md"},O={class:"row justify-around"},C=J(),{getMyAccount:W}=C,{currentAccount:R}=B(C),_=n(!1),ee=V({async beforeRouteEnter(){try{await W()&&(_.value=!0)}catch(s){_.value=!1,console.log(s)}}}),ae=V({...ee,__name:"LoginCard",setup(s){const A=L(),{login:I}=X(),i=n(""),c=n(""),l=n(""),d=n(!1),P=()=>{i.value="",c.value="",l.value=""},k=async()=>{try{await I({email:i.value,password:c.value}),await A.push({name:p.home}),l.value=""}catch(f){console.log(f),l.value="Email or Password is invalid"}};return(f,o)=>(y(),g(F,{class:"column justify-center"},{default:t(()=>[a(Q,null,{default:t(()=>[a(M,{class:"bg-primary text-white"},{avatar:t(()=>[a(N,{name:"menu_book"})]),default:t(()=>[G]),_:1}),b((y(),g(r,{clickable:"",to:{name:u(p).home},class:"bg-primary text-white row"},{default:t(()=>{var e;return[a(z,null,{default:t(()=>{var v;return[m("img",{src:(v=u(R))==null?void 0:v.avatarUrl,alt:""},null,8,H)]}),_:1}),m("div",K,"continue as "+w((e=u(R))==null?void 0:e.name),1)]}),_:1},8,["to"])),[[j],[h,_.value]]),a(Y,{onSubmit:k,onReset:P,class:"q-gutter-md q-pa-md"},{default:t(()=>[a(x,{filled:"",modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=e=>i.value=e),label:"Your email",hint:"","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something",e=>u($).test(e)||"Please type a valid email address"]},null,8,["modelValue","rules"]),a(x,{filled:"",type:d.value?"text":"password",modelValue:c.value,"onUpdate:modelValue":o[2]||(o[2]=e=>c.value=e),label:"Your password","lazy-rules":"",rules:[e=>e&&e.length>0||"Please type something"]},{default:t(()=>[a(r,{onClick:o[1]||(o[1]=e=>d.value=!d.value),icon:d.value?"visibility_off":"visibility",unelevated:"",rounded:"",dense:""},null,8,["icon"])]),_:1},8,["type","modelValue","rules"]),a(E,null,{default:t(()=>[b(a(Q,{flat:"",class:"row bg-red-7 text-white justify-center q-pa-sm"},{default:t(()=>[S(w(l.value),1)]),_:1},512),[[h,l.value]])]),_:1}),a(T),m("div",O,[a(r,{class:"button",label:"Login",type:"submit",color:"primary"}),a(r,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm button"}),a(r,{flat:"","text-color":"primary",to:{name:u(p).register},class:"button"},{default:t(()=>[S(" Register ")]),_:1},8,["to"])])]),_:1})]),_:1})]),_:1}))}});var ne=q(ae,[["__scopeId","data-v-4113e8cd"]]);export{ne as default};
