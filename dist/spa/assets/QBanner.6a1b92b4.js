import{p as F,r as k,H as _,av as D,aw as Q,o as R,h as f,B as b,g as P,ao as w,ad as C,W as I,aM as V,aN as $,a1 as j,a2 as z,c as E}from"./index.737d3221.js";var Z=F({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(o,{slots:l,emit:d}){const y=P(),s=k(null);let i=0;const a=[];function c(e){const u=typeof e=="boolean"?e:o.noErrorFocus!==!0,m=++i,p=(t,n)=>{d("validation"+(t===!0?"Success":"Error"),n)},S=t=>{const n=t.validate();return typeof n.then=="function"?n.then(r=>({valid:r,comp:t}),r=>({valid:!1,comp:t,err:r})):Promise.resolve({valid:n,comp:t})};return(o.greedy===!0?Promise.all(a.map(S)).then(t=>t.filter(n=>n.valid!==!0)):a.reduce((t,n)=>t.then(()=>S(n).then(r=>{if(r.valid===!1)return Promise.reject(r)})),Promise.resolve()).catch(t=>[t])).then(t=>{if(t===void 0||t.length===0)return m===i&&p(!0),!0;if(m===i){const{comp:n,err:r}=t[0];if(r!==void 0&&console.error(r),p(!1,n),u===!0){const A=t.find(({comp:B})=>typeof B.focus=="function"&&w(B.$)===!1);A!==void 0&&A.comp.focus()}}return!1})}function x(){i++,a.forEach(e=>{typeof e.resetValidation=="function"&&e.resetValidation()})}function h(e){e!==void 0&&C(e);const u=i+1;c().then(m=>{u===i&&m===!0&&(o.onSubmit!==void 0?d("submit",e):e!==void 0&&e.target!==void 0&&typeof e.target.submit=="function"&&e.target.submit())})}function g(e){e!==void 0&&C(e),d("reset"),I(()=>{x(),o.autofocus===!0&&o.noResetFocus!==!0&&v()})}function v(){V(()=>{if(s.value===null)return;const e=s.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||s.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||s.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(s.value.querySelectorAll("[tabindex]"),u=>u.tabIndex!==-1);e!=null&&e.focus({preventScroll:!0})})}_($,{bindComponent(e){a.push(e)},unbindComponent(e){const u=a.indexOf(e);u!==-1&&a.splice(u,1)}});let q=!1;return D(()=>{q=!0}),Q(()=>{q===!0&&o.autofocus===!0&&v()}),R(()=>{o.autofocus===!0&&v()}),Object.assign(y.proxy,{validate:c,resetValidation:x,submit:h,reset:g,focus:v,getValidationComponents:()=>a}),()=>f("form",{class:"q-form",ref:s,onSubmit:h,onReset:g},b(l.default))}});const H=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;var K=F({name:"QBanner",props:{...j,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(o,{slots:l}){const{proxy:{$q:d}}=P(),y=z(o,d),s=E(()=>"q-banner row items-center"+(o.dense===!0?" q-banner--dense":"")+(y.value===!0?" q-banner--dark q-dark":"")+(o.rounded===!0?" rounded-borders":"")),i=E(()=>`q-banner__actions row items-center justify-end col-${o.inlineActions===!0?"auto":"all"}`);return()=>{const a=[f("div",{class:"q-banner__avatar col-auto row items-center self-start"},b(l.avatar)),f("div",{class:"q-banner__content col text-body2"},b(l.default))],c=b(l.action);return c!==void 0&&a.push(f("div",{class:i.value},c)),f("div",{class:s.value+(o.inlineActions===!1&&c!==void 0?" q-banner--top-padding":""),role:"alert"},a)}}});export{Z as Q,K as a,H as e};
